#!/bin/env python3

import re
import sys
# configuration
str_new="""
728V_1 = ENCHI(MR_728V_0) 	pts{106 941 1012 1378 2481 2482 5504 12525 16643 16676 17767 21846 22025 22031 27168 27181 27197 27433 27454 33741 43500 43529 }
4V_1 = ENCHI(MR_4V_0) 	pts{2032 21993 28939 28995 202032 302032 }
708V_1 = ENCHI(MR_708V_0) 	pts{1982 }
706V_1 = ENCHI(MR_706V_0) 	pts{1380 }
710V_1 = ENCHI(MR_710V_0) 	pts{1984 }
91V_1 = ENCHI(MR_91V_0) 	pts{1 4157 4159 4161 5523 5525 5527 6338 6340 6342 6345 6347 6349 10396 10398 10400 11760 11762 11764 11828 12072 12151 12260 12385 12403 12573 12575 12577 12777 12799 12835 12871 12958 13001 13033 13155 13165 13297 13403 13493 13559 13648 13687 13750 13843 14041 14159 14237 14320 14408 14432 14463 39029 39031 39033 39323 39325 39327 }
723V_1 = ENCHI(MR_723V_0) 	pts{628840 633815 }
712V_1 = ENCHI(MR_712V_0) 	pts{828840 }
717V_1 = ENCHI(MR_717V_0) 	pts{29164 29166 }
733V_1 = ENCHI(MR_733V_0) 	pts{590 595 597 633 635 637 654 790 794 800 808 971 1001 1003 1057 1059 1064 1066 1082 1084 1114 1117 1281 1296 1339 1341 1367 1392 1402 1404 1406 1408 1459 1791 1795 1963 1965 1970 1972 1992 2010 2012 2014 2050 2074 2128 2157 2159 2161 2272 2291 2293 2295 2297 2307 2439 2441 2444 2446 2448 2450 2452 2454 2480 2484 2487 2489 2491 2493 2635 2661 2692 2700 6488 27053 27059 27109 27113 28840 29182 33815 33817 200595 200597 200654 200808 201367 202157 202446 228840 229182 233815 233817 300595 300597 300654 300808 301367 302157 302446 328840 329182 333815 333817 400595 400597 400654 400808 402157 402446 428840 429182 433815 433817 500595 500597 500654 500808 502446 528840 533815 600595 600597 600654 600808 602446 700595 700597 700654 700808 702446 800595 800597 800654 800808 802446 900595 900597 900654 900808 902446 1000595 1000597 1000654 1000808 1002446 1100595 1100597 1100654 1100808 1102446 }
725V_1 = ENCHI(MR_725V_0) 	pts{728840 733815 }
248V_1 = ENCHI(MR_248V_0) 	pts{27149 27153 }
295V_1 = ENCHI(MR_295V_0) 	pts{90 }
704V_1 = ENCHI(MR_704V_0) 	pts{1371 }
714V_1 = ENCHI(MR_714V_0) 	pts{833815 }
719V_1 = ENCHI(MR_719V_0) 	pts{229164 229166 }
730V_1 = ENCHI(MR_730V_0) 	pts{34 647 669 802 1052 1054 1062 1135 1218 1302 1304 1308 1310 1312 1314 1316 1320 1322 1326 1343 1364 1373 1382 1385 1388 1394 1396 1398 1400 1517 2093 2274 2279 2413 2416 2418 2628 2632 2639 2643 2694 2708 27513 }
721V_1 = ENCHI(MR_721V_0) 	pts{329164 329166 }
"""
str_inc="""
106V_1 = ENCHI(MR_106V_0) 	pts{1 4157 4159 4161 5523 5525 5527 6338 6340 6342 6345 6347 6349 10396 10398 10400 11760 11762 11764 11828 12072 12151 12260 12385 12403 12573 12575 12577 12777 12799 12835 12871 12958 13001 13033 13155 13165 13297 13403 13493 13559 13648 13687 13750 13843 14041 14159 14237 14320 14408 14432 14463 39029 39031 39033 39323 39325 39327 }
3983V_1 = ENCHI(MR_3983V_0) 	pts{34 669 802 1052 1054 1062 1135 1218 1302 1304 1308 1310 1312 1314 1316 1320 1322 1326 1343 1364 1373 1382 1394 1396 1398 1400 1404 1406 1408 1517 2274 2279 2413 2416 2484 2487 2628 2632 2635 2639 2643 2694 2708 27513 }
140V_1 = ENCHI(MR_140V_0) 	pts{90 }
958V_1 = ENCHI(MR_958V_0) 	pts{1371 }
3970V_1 = ENCHI(MR_3970V_0) 	pts{29164 29166 }
3986V_1 = ENCHI(MR_3986V_0) 	pts{590 595 597 633 635 637 654 790 800 808 1057 1059 1064 1066 1082 1084 1114 1117 1339 1341 1367 1392 1402 1459 1791 1795 1963 1965 1970 1972 1992 2010 2012 2014 2050 2159 2161 2272 2291 2293 2295 2297 2307 2439 2441 2444 2446 2448 2450 2452 2454 2480 2491 2493 2661 2692 2700 6488 27053 27059 27109 27113 200595 200597 200654 200808 201367 202446 300595 300597 300654 300808 301367 302446 400595 400597 400654 400808 402446 500595 500597 500654 500808 502446 600595 600597 600654 600808 602446 700595 700597 700654 700808 702446 800595 800597 800654 800808 802446 900595 900597 900654 900808 902446 1000595 1000597 1000654 1000808 1002446 1100595 1100597 1100654 1100808 1102446 }
673V_1 = ENCHI(MR_673V_0) 	pts{628840 633815 }
3212V_1 = ENCHI(MR_3212V_0) 	pts{1380 }
3979V_1 = ENCHI(MR_3979V_0) 	pts{828840 833815 }
3977V_1 = ENCHI(MR_3977V_0) 	pts{728840 733815 }
241V_1 = ENCHI(MR_241V_0) 	pts{27149 27153 }
2666V_1 = ENCHI(MR_2666V_0) 	pts{106 941 1012 1378 2481 2482 5504 12525 16643 16676 17767 21846 22025 22031 27168 27181 27197 27433 27454 33741 43500 43529 }
3967V_1 = ENCHI(MR_3967V_0) 	pts{1984 }
3972V_1 = ENCHI(MR_3972V_0) 	pts{229164 229166 }
3974V_1 = ENCHI(MR_3974V_0) 	pts{329164 329166 }
3965V_1 = ENCHI(MR_3965V_0) 	pts{1982 }
32V_1 = ENCHI(MR_32V_0) 	pts{794 2032 202032 302032 }
"""

# str_new="""
# 42V_2 = CALCHI(MR_42V_1) 	pts{595 597 633 635 637 654 790 794 800 808 941 971 1001 1003 1012 1057 1059 1064 1066 1082 1084 1114 1117 1281 1296 1339 1341 1367 1378 1392 1402 1404 1406 1408 1459 1791 1795 1963 1965 1970 1972 1982 1984 1992 2010 2012 2014 2050 2074 2128 2157 2159 2161 2272 2291 2293 2295 2297 2307 2439 2441 2444 2446 2448 2450 2452 2454 2480 2481 2482 2484 2487 2489 2491 2493 2635 2661 2692 2700 5504 6488 12525 16643 16676 17767 21846 22025 22031 27053 27059 27109 27113 27149 27153 27168 27181 27197 27433 27454 28840 29182 33741 33815 33817 43500 43529 200595 200597 200654 200808 201367 202157 202446 228840 229182 233815 233817 300595 300597 300654 300808 301367 302157 302446 328840 329182 333815 333817 400595 400597 400654 400808 402157 402446 428840 429182 433815 433817 500595 500597 500654 500808 502446 528840 533815 600595 600597 600654 600808 602446 628840 633815 700595 700597 700654 700808 702446 728840 733815 800595 800597 800654 800808 802446 833815 900595 900597 900654 900808 902446 1000595 1000597 1000654 1000808 1002446 1100595 1100597 1100654 1100808 1102446 }
# 4V_2 = CALCHI(MR_4V_1) 	pts{2032 21993 28939 28995 202032 302032 }
# """
# str_inc="""
# 36V_2 = CALCHI(MR_36V_1) 	pts{106 590 595 597 633 635 637 654 790 800 808 941 1012 1057 1059 1064 1066 1082 1084 1114 1117 1339 1341 1367 1378 1392 1402 1459 1791 1795 1963 1965 1970 1972 1982 1984 1992 2010 2012 2014 2050 2159 2161 2272 2291 2293 2295 2297 2307 2439 2441 2444 2446 2448 2450 2452 2454 2480 2481 2482 2491 2493 2661 2692 2700 5504 6488 12525 16643 16676 17767 21846 22025 22031 27053 27059 27109 27113 27149 27153 27168 27181 27197 27433 27454 33741 43500 43529 200595 200597 200654 200808 201367 202446 300595 300597 300654 300808 301367 302446 400595 400597 400654 400808 402446 500595 500597 500654 500808 502446 600595 600597 600654 600808 602446 700595 700597 700654 700808 702446 800595 800597 800654 800808 802446 900595 900597 900654 900808 902446 1000595 1000597 1000654 1000808 1002446 1100595 1100597 1100654 1100808 1102446 }
# 32V_2 = CALCHI(MR_32V_1) 	pts{794 2032 202032 302032 }
# """
def parse_pts(string):
    pts=set()
    pattern=re.compile(r"{(.*)}")
    ret=pattern.findall(string)
    for it in ret:
        nums=re.sub(r"\D"," ",it).split()
        for num in nums:
            pts.add(int(num))
    return pts

def sort_set(pts):
    ls=list(pts)
    ls.sort()  
    return ls 
     
pts_new=parse_pts(str_new)
pts_inc=parse_pts(str_inc)

print("right pts: \n",sort_set(pts_new))
print("error pts: \n",sort_set(pts_inc))

inter=pts_new.intersection(pts_inc)
lacked=pts_new.difference(inter)
extra=pts_inc.difference(inter)
print("lacked: \n",sort_set(lacked))
print("extra: \n",sort_set(extra))
